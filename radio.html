<!doctype html>
<html lang="ru">
<head>
    <title>Radio Benzin</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="description" content="">
    <link href="./styles/main.css" rel="stylesheet" type="text/css">
    <script src="https://yastatic.net/jquery/3.3.1/jquery.min.js" type="text/javascript"></script>
        <script async src="https://unpkg.com/es-module-shims@1.3.6/dist/es-module-shims.js"></script>

        <script type="importmap">
    			{
    				"imports": {
    					"three": "https://cdn.skypack.dev/three@0.142.0/build/three.module.js"
    				}
    			}
        </script>
    <script src="./js/radio.js" type="module"></script>
</head>
<body>
<script type="module">
    import {AmbientLight,PerspectiveCamera, Scene, WebGLRenderer,Color} from 'https://cdn.skypack.dev/three@0.142.0/examples/jsm/controls/OrbitControls.js'
    import {OrbitControls} from 'https://cdn.skypack.dev/three@0.142.0/examples/jsm/controls/OrbitControls.js';
    import {GLTFLoader} from 'https://cdn.skypack.dev/three@0.142.0/examples/jsm/loaders/GLTFLoader.js';

    const container = document.querySelector('#ogonek-model-container');

    //camera constants
    const fov = 75;
    const aspect = container.clientWidth / container.clientHeight;
    const near = 0.1; // the near clipping plane
    const far = 100; // the far clipping plane

    const light = new AmbientLight('white', 2);
    const camera = new PerspectiveCamera(fov, aspect, near, far);
    const scene = new Scene();
    const renderer = new WebGLRenderer({antialias: true});
    const loader = new GLTFLoader();
    camera.position.set(0, 0, 5);
    document.body.appendChild(renderer.domElement);
    const controls = new OrbitControls(camera, renderer.domElement);
    renderer.setPixelRatio(window.devicePixelRatio);

    controls.enableDamping = true; // an animation loop is required when either damping or auto-rotation are enabled
    controls.dampingFactor = 0.05;

    controls.screenSpacePanning = false;

    controls.minDistance = 1;
    controls.maxDistance = 500;

    controls.maxPolarAngle = Math.PI / 2;

    loader.load('models/poly.glb', (model) => {
        scene.add(model.scene.children[0]);
    });

    scene.background = new Color('skyblue');
    renderer.setSize(container.clientWidth, container.clientHeight);
    renderer.physicallyCorrectLights = true;

    scene.add(light);

    function animate() {
        controls.update();
        requestAnimationFrame(animate);
        renderer.render(scene, camera);
    }

    animate();
</script>
<audio id="radio-audio"></audio>
<div id="radio-info"></div>
<input type="button" id="asd" value="Включить радио">
<input type="range" min="0" max="100" value="75" id="radio-volume">
<div id="ogonek-model-container"></div>
</body>